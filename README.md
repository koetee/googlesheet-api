# googlesheet-api
Этот проект предназначен для получения данных клиентов из API и экспорта их в Google Таблицу.

## Описание
1. Авторизирует пользователя через API (Если данного пользователя нет, то он будет зарегистрирован).
2. Получает токен для авторизации.
3. Получает список клиентов через API.
4. Экспортирует данные в Google Таблицу.


Проект написан на Node.js и использует следующие библиотеки:
- axios для работы с API.
- google-spreadsheet для работы с Google Таблицами.
- google-auth-library для аутентификации сервиса от Google.
- dotenv для управления переменными окружения.

## Установка и настройка

### 1. Клонируйте репозиторий
```sh
git clone https://github.com/koetee/googlesheet-api.git
cd googlesheet-api
```
### 2. Установите зависимости
```sh
npm install
```

### 3. Настройте переменные окружения
Создайте файл .env в корне проекта и добавьте следующие переменные:

```s
API_BASE_URL="http://127.0.0.1:5000"
SPREADSHEET_ID=""
USERNAME="testuser"
```
- API_BASE_URL: Базовый URL API.
- SPREADSHEET_ID: ID вашей Google Таблицы (его можно найти в URL вашей таблицы).
- USERNAME: Имя пользователя для регистрации и\или авторизации.

### 4. Настройте Google API

1. Перейдите в Google Cloud Console.
2. Создайте проект и включите Google Sheets API.
3. Создайте сервисный аккаунт.
4. Скачайте JSON-файл (переименуйте на cred.json) с ключами и поместите его в `src/secrets`.
5. Поделитесь Google Таблицей с email-адресом сервисного аккаунта.

## Запуск проекта

Для запуска скрипта используйте команду:
```sh
npm start
```